import{a as y,b as x}from"/build/_shared/chunk-HJTV6HTL.js";import{c as l}from"/build/_shared/chunk-Q3IECNXJ.js";var s=l(y(),1),e=l(x(),1);function p(){let[i,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),[u,f]=(0,s.useState)(""),[r,o]=(0,s.useState)({html:"",css:"",js:""}),g=(0,s.useRef)(null),h=(0,s.useMemo)(()=>"",[]);function b({html:t,css:a,js:n}){return`<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><script src="https://cdn.tailwindcss.com"><\/script><style>${a||""}</style></head><body class="min-h-screen">${t||""}<script>try{(function(){${n||""}})()}catch(e){console.error(e)}<\/script></body></html>`}(0,s.useEffect)(()=>{let t=b(r),a=g.current?.contentWindow?.document;a&&(a.open(),a.write(t),a.close())},[r]);async function v(){m(!0),f("");try{let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:i.trim()||h})});if(!t.ok){let n=await t.json().catch(()=>({}));throw new Error(n?.error||`Request failed: ${t.status}`)}let a=await t.json();o({html:a.html||"",css:a.css||"",js:a.js||""})}catch(t){f(t?.message||"Unexpected error")}finally{m(!1)}}return(0,e.jsxs)("main",{className:"max-w-[1400px] mx-auto px-4 py-6 flex gap-4",children:[(0,e.jsxs)("section",{className:"w-full max-w-xl shrink-0 flex flex-col gap-4",children:[(0,e.jsxs)("div",{className:"bg-gray-900/40 border border-gray-800/70 rounded-xl overflow-hidden",children:[(0,e.jsxs)("div",{className:"px-4 py-3 border-b border-gray-800/70 flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-sm font-medium text-gray-300",children:"Prompt"}),(0,e.jsx)("button",{onClick:async()=>{d("Generate a horizontal navbar with search and actions using Tailwind.")},className:"text-xs text-indigo-300 hover:text-indigo-200",children:"Use example"})]}),(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsx)("textarea",{value:i,onChange:t=>d(t.target.value),className:"w-full h-[280px] p-3 rounded-lg bg-gray-950/60 border border-gray-800/80 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 resize-y",placeholder:"Describe the UI you want. Include interactions and layout details."}),(0,e.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,e.jsx)("button",{onClick:v,disabled:c,className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium disabled:opacity-50 disabled:pointer-events-none",children:c?"Generating...":"Generate"}),u?(0,e.jsx)("span",{className:"text-xs text-red-400",children:u}):(0,e.jsx)("span",{className:"text-xs text-gray-400"})]})]})]}),(0,e.jsxs)("div",{className:"bg-gray-900/40 border border-gray-800/70 rounded-xl overflow-hidden",children:[(0,e.jsx)("div",{className:"px-4 py-3 border-b border-gray-800/70",children:(0,e.jsx)("h2",{className:"text-sm font-medium text-gray-300",children:"Generated code"})}),(0,e.jsxs)("div",{className:"p-4 grid gap-3",children:[(0,e.jsx)("textarea",{value:r.html,onChange:t=>o(a=>({...a,html:t.target.value})),spellCheck:!1,className:"w-full h-40 p-3 rounded-lg bg-black/60 border border-gray-800/80 text-xs font-mono"}),(0,e.jsx)("textarea",{value:r.css,onChange:t=>o(a=>({...a,css:t.target.value})),spellCheck:!1,className:"w-full h-40 p-3 rounded-lg bg-black/60 border border-gray-800/80 text-xs font-mono"}),(0,e.jsx)("textarea",{value:r.js,onChange:t=>o(a=>({...a,js:t.target.value})),spellCheck:!1,className:"w-full h-40 p-3 rounded-lg bg-black/60 border border-gray-800/80 text-xs font-mono"})]})]})]}),(0,e.jsx)("section",{className:"flex-1 min-w-0",children:(0,e.jsxs)("div",{className:"bg-gray-900/40 border border-gray-800/70 rounded-xl overflow-hidden h-full min-h-[680px] flex flex-col",children:[(0,e.jsxs)("div",{className:"px-4 py-3 border-b border-gray-800/70 flex items-center justify-between",children:[(0,e.jsx)("h2",{className:"text-sm font-medium text-gray-300",children:"Live preview"}),(0,e.jsx)("div",{className:"text-xs text-gray-500",children:"Tailwind via CDN in sandbox"})]}),(0,e.jsx)("div",{className:"flex-1",children:(0,e.jsx)("iframe",{ref:g,title:"Preview",className:"w-full h-full bg-white"})})]})})]})}export{p as default};
